Осторожно — глобальные переменные в JavaScript
==============================================
**JavaScript** реализованный в современных браузерах — это скриптовый язык работающий по принципу **загрузился-и-запустился (load-and-go)**. Программы JavaScript внедряются на сайт в виде обячного текста, который впоследствии интерпретируется виртуальной машиной на стороне пользователя и выполняется в его web-браузере — глобальном объекте **window**.

Глобальный объект **[window](http://www.w3schools.com/jsref/obj_window.asp)** — это глобальное пространство имен, в нем содержатся доступные всем функции и переменные. В JavaScript переменные, которые заданы без использования оператора var автоматически становятся глобальными переменным и их имена размещаются в глобальном пространстве имен объекта window. Изначально разработчики языка предполагали, что такое поведение будет приемлемым решением для небольших скриптов написанных на JavaScript для Netscape Navigator'а.

Но со стремительным развитием JavaScript за последние 10 лет мы пришли к тому, что из небольших программок для обеспечения динамичности HTML JavaScript стал использоваться для написания мощных Ajax приложений (посмотрите на Google, YAHOO! и т.д.). В итоге проявилось истинная натура глобальных объектов.


## Глобальные переменные зло
Глобальные переменные являются источником ненадежности и небезопасности web-приложений. К счастью JavaScript имеет ряд инструментов для минимизации использования глобальных переменных, что в свою очередь обеспечивает возможность создания более надежных программ.
Минимальное использование глобальных переменных позволяет избегать коллизий имен при создании больших приложений и использовании различных программных компонентов от разных разработчиков.

Объективной оценкой качества программного кода написанного на JavaScript является показатель количества создаваемых и используемых программой глобальных объектов и переменных. Создание большого количества глобальных объектов и переменных увеличивает шанс получить плохую интеграцию разрабатываемой программы с другими программами на JavaScript. В идеале приложение, библиотека, компонент или виджет написанный на JavaScript должен задавать только одну глобальную переменную (свое пространство имен). Этой глобальной переменной должен быть объект, который содержит и является корнем для всех разрабатываемых вами компонентов программы.

Например, YAHOO! для своих компонентов использует глобальный объект (глобальное пространство имен) с именем `YAHOO`. Использование больших букв призвано обозначить, что данный объект является особенным, т.е. он не является обычным объектом или конструктором (т.к. по принятому среди разработчиков соглашению имена объектов начинающиеся с большой буквы указывают на объект конструктор). Также использование всех заглавных букв в названии глобального объекта в большей степени исключит вариант когда кто-нибудь по ошибке наберет такое же имя, но с маленьких букв (JavaScript чувствителен к регистру, поэтому YAHOO и yahoo в JavaScript рассматриваются как разные переменные).

Такой подход является наиболее предпочтительным и безопасным способом организации своих программных компонентов на JavaScript, а получаемое при этом падение производительности программы ничтожно мало.

Также, чтобы не падала заметно производительность рекомендуется не увлекаться чрезмерной вложенностью объектов. Лучше иметь легковесную (неглубокой вложенности) древовидную структуру объектов. Например, следует учитывать, что обращение к `YAHOO.util.Dom.get` будет сравнительно дольше чем обращение к `YAHOO.get`.

Некоторые программисты используют имена переменных состоящие из одного символа, например, `o` или `i` и т.д. Однако следует выбирать разумную середину между оптимизацией и читаемостью кода. Имена переменных или объектов должны быть как можно короче, но в тоже время по этим именам другие программисты должны легко определять назначение переменой или объекта.


## Ссылки
* **[http://yuiblog.com/blog/2006/06/01/global-domination/](http://yuiblog.com/blog/2006/06/01/global-domination/)** - оригинал этой статьи (англ.)
