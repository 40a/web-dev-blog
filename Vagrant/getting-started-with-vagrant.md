Начало работы с Vagrant
=======================
* **[Начало](#%D0%9D%D0%B0%D1%87%D0%B0%D0%BB%D0%BE)**
  * [Где взять VirtualBox](#%D0%93%D0%B4%D0%B5-%D0%B2%D0%B7%D1%8F%D1%82%D1%8C-virtualbox)
  * [Установка Vagrant](#%D0%A3%D1%81%D1%82%D0%B0%D0%BD%D0%BE%D0%B2%D0%BA%D0%B0-vagrant)
  * [Ваше первое виртуальное окружение Vagrant](#%D0%92%D0%B0%D1%88%D0%B5-%D0%BF%D0%B5%D1%80%D0%B2%D0%BE%D0%B5-%D0%B2%D0%B8%D1%80%D1%82%D1%83%D0%B0%D0%BB%D1%8C%D0%BD%D0%BE%D0%B5-%D0%BE%D0%BA%D1%80%D1%83%D0%B6%D0%B5%D0%BD%D0%B8%D0%B5-vagrant)
* **[Преимущества от использования Vagrant](#%D0%9F%D1%80%D0%B5%D0%B8%D0%BC%D1%83%D1%89%D0%B5%D1%81%D1%82%D0%B2%D0%B0-%D0%BE%D1%82-%D0%B8%D1%81%D0%BF%D0%BE%D0%BB%D1%8C%D0%B7%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D1%8F-vagrant)**
  * [Преимущества для одного разработчика](#%D0%9F%D1%80%D0%B5%D0%B8%D0%BC%D1%83%D1%89%D0%B5%D1%81%D1%82%D0%B2%D0%B0-%D0%B4%D0%BB%D1%8F-%D0%BE%D0%B4%D0%BD%D0%BE%D0%B3%D0%BE-%D1%80%D0%B0%D0%B7%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D1%87%D0%B8%D0%BA%D0%B0)
  * [Преимущества для команды разработчиков](#%D0%9F%D1%80%D0%B5%D0%B8%D0%BC%D1%83%D1%89%D0%B5%D1%81%D1%82%D0%B2%D0%B0-%D0%B4%D0%BB%D1%8F-%D0%BA%D0%BE%D0%BC%D0%B0%D0%BD%D0%B4%D1%8B-%D1%80%D0%B0%D0%B7%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D1%87%D0%B8%D0%BA%D0%BE%D0%B2)
  * [Преимущества для компании](#%D0%9F%D1%80%D0%B5%D0%B8%D0%BC%D1%83%D1%89%D0%B5%D1%81%D1%82%D0%B2%D0%B0-%D0%B4%D0%BB%D1%8F-%D0%BA%D0%BE%D0%BC%D0%BF%D0%B0%D0%BD%D0%B8%D0%B8)
* **[Настройка проекта](#%D0%9D%D0%B0%D1%81%D1%82%D1%80%D0%BE%D0%B9%D0%BA%D0%B0-%D0%BF%D1%80%D0%BE%D0%B5%D0%BA%D1%82%D0%B0)**
* **[Образы виртуальных машин (Виртуальные боксы)](#%D0%9E%D0%B1%D1%80%D0%B0%D0%B7%D1%8B-%D0%B2%D0%B8%D1%80%D1%82%D1%83%D0%B0%D0%BB%D1%8C%D0%BD%D1%8B%D1%85-%D0%BC%D0%B0%D1%88%D0%B8%D0%BD-%D0%92%D0%B8%D1%80%D1%82%D1%83%D0%B0%D0%BB%D1%8C%D0%BD%D1%8B%D0%B5-%D0%B1%D0%BE%D0%BA%D1%81%D1%8B)**
* **[Работа с SSH](#%D0%A0%D0%B0%D0%B1%D0%BE%D1%82%D0%B0-%D1%81-ssh)**
* **[Обеспечение для виртуальных боксов (Provisioning)](#%D0%9E%D0%B1%D0%B5%D1%81%D0%BF%D0%B5%D1%87%D0%B5%D0%BD%D0%B8%D0%B5-%D0%B4%D0%BB%D1%8F-%D0%B2%D0%B8%D1%80%D1%82%D1%83%D0%B0%D0%BB%D1%8C%D0%BD%D1%8B%D1%85-%D0%B1%D0%BE%D0%BA%D1%81%D0%BE%D0%B2-provisioning)**
* **[Проброс портов (Port Forwarding)](#%D0%9F%D1%80%D0%BE%D0%B1%D1%80%D0%BE%D1%81-%D0%BF%D0%BE%D1%80%D1%82%D0%BE%D0%B2-port-forwarding)**
* **[Пакетирование (Packaging)](#%D0%9F%D0%B0%D0%BA%D0%B5%D1%82%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5-packaging)**
* **[Остановка виртуальных боксов (Teardown)](#%D0%9E%D1%81%D1%82%D0%B0%D0%BD%D0%BE%D0%B2%D0%BA%D0%B0-%D0%B2%D0%B8%D1%80%D1%82%D1%83%D0%B0%D0%BB%D1%8C%D0%BD%D1%8B%D1%85-%D0%B1%D0%BE%D0%BA%D1%81%D0%BE%D0%B2-teardown)**
* **[Быстрая пересборка](#%D0%91%D1%8B%D1%81%D1%82%D1%80%D0%B0%D1%8F-%D0%BF%D0%B5%D1%80%D0%B5%D1%81%D0%B1%D0%BE%D1%80%D0%BA%D0%B0)**


## Начало
Фактически **Vagrant** является надстройкой над программой **[VirtualBox](http://www.virtualbox.org/)** от **Oracle**, и обеспечивает бастрое создание и настройку виртуальных машин. Созданные таким образом виртуальные машины - боксы **(boxes)** используются разработчиками web-приложений для построения необходимой среды разработки. Затем они могут быть упаокованы в специальные контейнеры, для установки и использования другими разработчиками в команде.

### Где взять VirtualBox
**Vagrant** полностью зависит от программы **[VirtualBox](http://www.virtualbox.org/)** и использует ее для создания виртуальных образов. Основным назначением **VirtualBox** является полная виртуализация **x86** оборудования. Это проект с открытым исходным кодом, который обеспечивает виртуализацию на профессиональном уровне и может быть использована как на серверах так и на десктопных компьютерах для построения виртуальных сред. **VirtualBox** доступен для **Windows**, **Mac OS X**, **Linux** и **Solaris**.

Вот ссылка на **[страницу загрузки VirtaulBox](http://www.virtualbox.org/wiki/Downloads)**.

На текущий момент **Vagrant** поддерживает VirtualBox 4.0.x, 4.1.x и 4.2.x.

[к началу](#%D0%9D%D0%B0%D1%87%D0%B0%D0%BB%D0%BE-%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D1%8B-%D1%81-vagrant)

### Установка Vagrant
Чтобы установить **Vagrant**, необходимо скачать соответствующий пакет или установщик с **[этой страницы загрузки](http://downloads.vagrantup.com/)** и установить его, используя стандартную процедуру установки приложения на вашей системе. В операционных систмах **Windows** и **Mac OS X** после установки приложения будет доступна команда `Vagrant` из командной строки. На остальных систмах вам необходимо будет самим добавить этот путь `/opt/vagrant/bin` в переменную окружения `PATH`.

Если вы не нашли для вашей системы установщик Vagrant, то вы можете установить его используя **[RubyGems](http://rubygems.org/gems/vagrant)** с помощью команды `gem install vagrant`. Но помните, что установка из пакетов или через установщик является наиболее предпочтительным способом установки приложения.

[к началу](#%D0%9D%D0%B0%D1%87%D0%B0%D0%BB%D0%BE-%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D1%8B-%D1%81-vagrant)

### Ваше первое виртуальное окружение Vagrant
В командной строке набирите:
```shell
$ vagrant box add precise32-box http://files.vagrantup.com/precise32.box
$ vagrant init precise32-box
$ vagrant up
```
Эти команды необходимы для запуска виртуальной машины с помощью **Vagrant**. Учтите, что команды выше запускают полнофункциональную виртуальную машину на операционной системе **[Ubuntu 12.04LTS precise](http://help.ubuntu.ru/wiki/precise)** с объемом памяти по-умолчанию в 512Мб.

[к началу](#%D0%9D%D0%B0%D1%87%D0%B0%D0%BB%D0%BE-%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D1%8B-%D1%81-vagrant)


## Преимущества от использования Vagrant
Многие Web-разрабочики используют виртуальное окружение для разработки своих Web-приложений. Все большую популярность сейчас набирают облачные сервисы для построения и развертывания виртуальных окружений для продакшена и разработки, начиная от **[EC2](http://ru.wikipedia.org/wiki/Amazon_EC2)**, **[Rackspace Cloud](http://www.rackspace.com/cloud/)** и заканчивая более специализированными как **[EngineYard](https://www.engineyard.com/)** и **[Heroku](http://www.heroku.com/)**. **Vagrant** реализует схожие принципы при создания виртуальных машин для локальной разработки и тестирования ваших приложений на рабочем компьютере. Такая организация работы повышает гибкость и продуктивность как вас так и вашей команды при разработке web-приложений.

Для развертывания и настройки виртуальных окружений **Vagrant** использует достаточно зарекомендовавшие себя технологии виртуализации в лице **VirtualBox** от **Oracle** и технологии автоматицированного развертывания приложений от **[Chef](http://www.opscode.com/chef)** и **[Puppet](http://www.puppetlabs.com/puppet)**.

[к началу](#%D0%9D%D0%B0%D1%87%D0%B0%D0%BB%D0%BE-%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D1%8B-%D1%81-vagrant)

### Преимущества для одного разработчика
Использование однотипного окружения разработки для разных проектов расчитанных для разных версий языков программирования и фреймворков зачастую очень трудная задача. Как быть, если один проект работает на PHP4, второй на PHP 5.2.x, а третий на PHP 5.3.x или 5.4.x и его необходимо тестировать в той версии языка на которую он расчитан?

Ставить кучу разных версий языков и сервисов и загружать рабочую машину, не вариант, т.к. рано или позно ваша система начнет долго загружаться, тормозить и глючить. Еще один момент, заключается в том, что каджый из рабочих проектов работает в продакшене на сервере, где стоит определенное окружение, поэтому при разработке такого проета надо, чтобы окружение на компьютере разработчика точно соответсвовало окружению на рабочем сервере, чтобы разработчик мог быть полностью уверен в том, что у него не будет неприятных сюрпризов при развертывании своего web-приложения на рабочем сервере.

**Vagrant** решает эти проблемы. С помощью него вы можете создавать виртуальные машины с окружением необходимым для каждого конкретного проекта. При переключении с одного проекта на другой, вы просто парой команд останавливаете одну виртуальную машину и поднимаете другую нужную для другого проекта. Все гениально и прсто!

[к началу](#%D0%9D%D0%B0%D1%87%D0%B0%D0%BB%D0%BE-%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D1%8B-%D1%81-vagrant)

### Преимущества для команды разработчиков
Все участники команды в идеале должны иметь одинаковое окружение разработки: одинаковые версии, зависимости, настройки и т.д. ведь по идее команда работает над общими проектами. Но что если часть команды работает над проектом с одной версий базы данных, к примеру, **[MySQL](http://ru.wikipedia.org/wiki/MySQL)** а другая часть команды работает над проектом где используется **[PostgreSQL](http://ru.wikipedia.org/wiki/PostgreSQL)** или **[MSSQL](http://ru.wikipedia.org/wiki/Microsoft_SQL_Server)**. Что если одному участнику команды нужно приступить к разработке другого проекта, над которым работала другая часть команды, а у этого проекта другая версия языка, базы данных и т.д.

[к началу](#%D0%9D%D0%B0%D1%87%D0%B0%D0%BB%D0%BE-%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D1%8B-%D1%81-vagrant)

### Преимущества для компании
TODO

[к началу](#%D0%9D%D0%B0%D1%87%D0%B0%D0%BB%D0%BE-%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D1%8B-%D1%81-vagrant)


## Настройка проекта
TODO

[к началу](#%D0%9D%D0%B0%D1%87%D0%B0%D0%BB%D0%BE-%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D1%8B-%D1%81-vagrant)


## Образы виртуальных машин (Виртуальные боксы)
TODO

[к началу](#%D0%9D%D0%B0%D1%87%D0%B0%D0%BB%D0%BE-%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D1%8B-%D1%81-vagrant)


## Работа с SSH
TODO

[к началу](#%D0%9D%D0%B0%D1%87%D0%B0%D0%BB%D0%BE-%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D1%8B-%D1%81-vagrant)


## Обеспечение для виртуальных боксов (Provisioning)
TODO

[к началу](#%D0%9D%D0%B0%D1%87%D0%B0%D0%BB%D0%BE-%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D1%8B-%D1%81-vagrant)


## Проброс портов (Port Forwarding)
TODO

[к началу](#%D0%9D%D0%B0%D1%87%D0%B0%D0%BB%D0%BE-%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D1%8B-%D1%81-vagrant)


## Пакетирование (Packaging)
TODO

[к началу](#%D0%9D%D0%B0%D1%87%D0%B0%D0%BB%D0%BE-%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D1%8B-%D1%81-vagrant)


## Остановка виртуальных боксов (Teardown)
TODO

[к началу](#%D0%9D%D0%B0%D1%87%D0%B0%D0%BB%D0%BE-%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D1%8B-%D1%81-vagrant)


## Быстрая пересборка
TODO

[к началу](#%D0%9D%D0%B0%D1%87%D0%B0%D0%BB%D0%BE-%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D1%8B-%D1%81-vagrant)


## Полезные ссылки
* **[Available Vagrant Boxes](https://github.com/mitchellh/vagrant/wiki/Available-Vagrant-Boxes)** - доступные образы **Vagrant**
* **[www.vagrantbox.es](http://www.vagrantbox.es/)** - еще образы **Vagrant**


## См. также
* **[Оригинал этой статьи](http://docs.vagrantup.com/v1/docs/getting-started/rebuild.html)** (англ.)
